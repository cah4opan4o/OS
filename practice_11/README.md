# practice_11
Этот код представляет собой программу на языке C, которая использует механизмы межпроцессного взаимодействия (IPC) с помощью канала (pipe). Основная цель программы — считать данные из файла, передать их через канал и проверить баланс круглых скобок в прочитанном тексте.

---

## Основные этапы работы программы

1. **Создание канала**:
   - Используется системный вызов `pipe(pipe_fd)` для создания однонаправленного канала.
   - Родительский процесс пишет данные в канал, а дочерний процесс читает из него.

2. **Родительский процесс**:
   - Читает данные из файла `primer.txt`.
   - Передает содержимое файла в канал построчно.
   - Отправляет символ `END_OF_DATA` (код `26`, `Ctrl+Z`) для обозначения конца передачи данных.
   - Ожидает завершения дочернего процесса с помощью `wait()`.

3. **Дочерний процесс**:
   - Считывает данные из канала.
   - Проверяет баланс круглых скобок в считанном тексте, подсчитывая количество открывающих и закрывающих скобок.
   - Результат записывается в файл `result.txt`. Если скобки сбалансированы, выводится соответствующее сообщение. В противном случае фиксируется количество несбалансированных скобок.

---

## Ключевые моменты

1. **Функция проверки баланса скобок**:
   ```c
   int check_parentheses_balance(const char *expression, int *open_count, int *close_count)
   ```
   - Проходит по строке `expression`, подсчитывая открывающие и закрывающие скобки.
   - Возвращает `1`, если скобки сбалансированы, и `0` — если нет.

2. **Работа с файлами**:
   - Родительский процесс читает из файла `primer.txt`.
   - Дочерний процесс записывает результат проверки в файл `result.txt`.

3. **Символ завершения передачи данных**:
   - Используется код `END_OF_DATA` (Ctrl+Z) для обозначения конца данных в канале.
   - Это позволяет дочернему процессу корректно завершить чтение.

4. **Использование каналов**:
   - Родительский процесс закрывает конец канала для чтения.
   - Дочерний процесс закрывает конец канала для записи.

---

## Потенциальные улучшения

1. **Обработка ошибок**:
   - Добавить проверку ошибок для функций `write` и `read`, чтобы обработать возможные сбои при взаимодействии через канал.

2. **Управление буфером**:
   - В текущей реализации данные из канала накапливаются в буфере `expression`. Для больших файлов это может привести к переполнению памяти.

3. **Поддержка больших файлов**:
   - Реализовать обработку данных блоками, чтобы поддерживать большие входные файлы.

4. **Гибкость ввода/вывода**:
   - Добавить возможность задавать имена входного и выходного файлов через параметры командной строки.

---

## Пример запуска

1. Создайте файл `primer.txt` с содержимым для проверки, например:
   ```
   (a + b) * (c - d)
   x + y * (z
   ```

2. Скомпилируйте программу:
   ```bash
   gcc program.c -o program
   ```

3. Запустите программу:
   ```bash
   ./program
   ```

4. Результат проверки будет записан в файл `result.txt`, например:
   ```
   Несбалансированные скобки:
   Открывающихся скобок: 2
   Закрывающихся скобок: 1
   ```